## 问题
当修改标签之间的引用关系（添加或移除引用）时，相关标签的统计信息不会及时刷新，只有在重启应用后才会更新。

## 根本原因
1. **添加标签引用**：在 `addTagReferenceFromDialog` 方法中，只调用了 `updateTagStatistics()` 方法，该方法有缓存检查，如果标签的统计信息已经缓存，就不会重新计算。
2. **移除标签引用**：在 `removeTagReference` 方法中，同样只调用了 `updateTagStatistics()` 方法，存在相同的缓存问题。
3. **缺少递归更新**：这两个方法都没有调用我们之前修复过的 `clearTagStatisticsCacheForTag()` 方法，所以不会递归更新所有父标签（包括引用父标签）的统计信息。

## 解决方案
修改添加和移除标签引用的方法，使用 `clearTagStatisticsCacheForTag()` 方法代替 `updateTagStatistics()` 方法，因为 `clearTagStatisticsCacheForTag()` 会：
- 清除标签的缓存
- 重新计算标签的统计信息
- 递归更新所有父标签的统计信息

## 实现步骤
1. **修改 `addTagReferenceFromDialog` 方法**：
   - 将 `updateTagStatistics(parentTagId)` 替换为 `clearTagStatisticsCacheForTag(parentTagId)`
   - 将 `updateTagStatistics(childTagId)` 替换为 `clearTagStatisticsCacheForTag(childTagId)`
   - 添加 `clearTagStatisticsCacheForTag(-1L)` 以更新未分类标签统计

2. **修改 `removeTagReference` 方法**：
   - 将 `updateTagStatistics(parentTagId)` 替换为 `clearTagStatisticsCacheForTag(parentTagId)`
   - 将 `updateTagStatistics(childTagId)` 替换为 `clearTagStatisticsCacheForTag(childTagId)`
   - 添加 `clearTagStatisticsCacheForTag(-1L)` 以更新未分类标签统计

3. **验证修复**：
   - 确保添加标签引用后，相关标签的统计信息立即刷新
   - 确保移除标签引用后，相关标签的统计信息立即刷新
   - 确保引用标签的父标签统计信息也能正确更新
   - 确保未分类标签统计信息正常更新

## 要修改的文件
- `d:\app\YuMoBox\app\src\main\java\com\example\yumoflatimagemanager\MainViewModel.kt`

## 修复后效果
当用户添加或移除标签引用时，所有相关标签（包括父标签、子标签和未分类标签）的统计信息都会立即刷新，无需重启应用，提供更响应式的用户体验。